<div class="container">

  <!-- HEADER -->
  <div class="page-header">
    <div class="header-content">
      <h1>
        <span class="header-icon">ğŸ”„</span>
        HistÃ³rico de MovimentaÃ§Ãµes
      </h1>
      <p>Registro de entradas e saÃ­das realizadas no estoque</p>
    </div>

    <!-- Busca -->
    <div class="search-container">
      <span class="search-icon">ğŸ”</span>
      <input 
        type="text" 
        class="search-input" 
        placeholder="Buscar por produto, tipo ou usuÃ¡rio..."
        [(ngModel)]="searchTerm">
    </div>
  </div>

  <!-- CARD DA TABELA -->
  <div class="table-card">

    <!-- LOADING -->
    <div *ngIf="loading" class="loading-container">
      <div class="spinner"></div>
      <p>Carregando movimentaÃ§Ãµes...</p>
    </div>

    <!-- TABELA -->
    <table class="table" *ngIf="!loading && filteredLista.length > 0">
      <thead>
        <tr>
          <th>ID</th>
          <th>Produto</th>
          <th>Tipo</th>
          <th>Quantidade</th>
          <th>Data/Hora</th>
          <th>UsuÃ¡rio</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let mov of filteredLista">
          <td><strong>#{{ mov.id }}</strong></td>
          <td>{{ mov.produtoNome }}</td>
          <td>
            <span 
              class="action-badge"
              [class.badge-enter]="mov.tipo === 'ENTRADA'"
              [class.badge-exit]="mov.tipo === 'SAIDA'">
              {{ mov.tipo }}
            </span>
          </td>
          <td>{{ mov.quantidade }}</td>
          <td>
            {{ mov.dataHora | date:'dd/MM/yyyy' }}<br>
            <small>{{ mov.dataHora | date:'HH:mm' }}</small>
          </td>
          <td>{{ mov.usuario }}</td>
        </tr>
      </tbody>
    </table>

    <!-- EMPTY STATE -->
    <div *ngIf="!loading && filteredLista.length === 0" class="empty-state">
      <div class="empty-icon">ğŸ“„</div>
      <h3>Nenhuma movimentaÃ§Ã£o encontrada</h3>
      <p *ngIf="searchTerm">Refine os filtros ou limpe a busca.</p>
    </div>

  </div>
</div>
