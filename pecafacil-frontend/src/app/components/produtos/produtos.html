<div class="container">
  <h2>ğŸ“¦ Cadastro de Produtos</h2>

  <!--  Barra de Pesquisa -->
  <div class="search-bar">
    <input
      type="text"
      placeholder=" Buscar produto por nome, descriÃ§Ã£o ou fornecedor..."
      [(ngModel)]="filtro"
      class="search-input"
    />
    <button class="clear-btn" *ngIf="filtro" (click)="filtro = ''">âŒ Limpar</button>
  </div>

  <!-- ğŸ“ FormulÃ¡rio -->
  <form (ngSubmit)="salvarProduto()" #produtoForm="ngForm" class="produto-form">

  <input type="text"
         placeholder=" Nome do produto"
         [(ngModel)]="novoProduto.nome"
         name="nome"
         required>

  <input type="text"
         placeholder=" DescriÃ§Ã£o do produto"
         [(ngModel)]="novoProduto.descricao"
         name="descricao"
         required>

  <input type="number"
         placeholder=" Digite o preÃ§o (R$)"
         [(ngModel)]="novoProduto.preco"
         name="preco"
         step="0.01"
         min="0"
         required>

  <input type="number"
         placeholder=" Informe a quantidade em estoque"
         [(ngModel)]="novoProduto.quantidade"
         name="quantidade"
         min="0"
         required>

  <input type="text"
         placeholder=" Nome do fornecedor"
         [(ngModel)]="novoProduto.fornecedor"
         name="fornecedor"
         required>

  <button type="submit" class="btn-salvar"> Salvar</button>
</form>



  <!-- ğŸ“‹ Tabela -->
  <table class="produtos-table" *ngIf="produtosFiltrados.length > 0; else semProdutos">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>DescriÃ§Ã£o</th>
        <th>PreÃ§o</th>
        <th>Quantidade</th>
        <th>Fornecedor</th>
        <th>AÃ§Ãµes</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of produtosFiltrados">
        <td>{{ p.id }}</td>
        <td>{{ p.nome }}</td>
        <td>{{ p.descricao }}</td>
        <td>{{ p.preco | currency:'BRL' }}</td>
        <td>{{ p.quantidade }}</td>
        <td>{{ p.fornecedor }}</td>
        <td>
          <button class="btn entrada" (click)="entrada(p.id!)">â• Entrada</button>
          <button class="btn saida" (click)="saida(p.id!)">â– SaÃ­da</button>
          <button class="btn excluir" (click)="excluir(p.id!)">ğŸ—‘ Excluir</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- ğŸ•³ Caso nÃ£o haja produtos -->
  <ng-template #semProdutos>
    <p class="sem-produtos">Nenhum produto encontrado.</p>
  </ng-template>
</div>
